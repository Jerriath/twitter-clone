{"version":3,"sources":["page-components/home-page/home-subcomponents/Header.js","page-components/home-page/home-subcomponents/Footer.js","firebase-config.js","page-components/home-page/home-subcomponents/HoverPopup.js","page-components/home-page/home-subcomponents/Tweet.js","page-components/home-page/home-subcomponents/HomeFeed.js","page-components/home-page/home-subcomponents/SignoutPanel.js","page-components/home-page/home-subcomponents/LeftPanel.js","assets/images/logo.png","page-components/home-page/home-subcomponents/RightPanel.js","page-components/home-page/home-subcomponents/TweetInput.js","page-components/home-page/HomePage.js","page-components/profile-page/ProfilePage.js","page-components/profile-page/profilePageFunctions.js","page-components/signin-page/SigninPage.js","page-components/signup-page/signupFunctions.js","assets/images/default_prof_pic.png","page-components/signup-page/SignupPage.js","page-components/tweet-page/TweetPage.js","Routes.js","index.js"],"names":["Header","props","className","header","onKeyDown","e","key","window","location","href","placeholder","width","height","xmlns","fillRule","clipRule","d","Footer","to","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","auth","getAuth","storage","getStorage","ref","HoverPopup","useState","hovered","textHovered","setTextHovered","prevHovered","setPrevHovered","userInfo","setUserInfo","userImg","setUserImg","followBtn","setFollowBtn","useEffect","userRef","doc","userId","imgRef","getDoc","then","userSnapshot","data","getDownloadURL","imgSrc","followers","currentUser","uid","onClick","handleFollow","i","length","a","user","currentUserId","currentUserRef","includes","console","log","tempFollowers","tempFollows","follows","newFollowers","filter","follower","newFollows","follow","updateDoc","push","reload","onMouseEnter","onMouseLeave","style","display","src","alt","fontSize","displayName","username","bio","slice","marginRight","Tweet","userImage","setUserImage","setUsername","setDisplayName","tweetInfo","setTweetInfo","tweeterId","setTweeterId","tweetImage","setTweetImage","isHovered","setIsHovered","headerMsg","setHeaderMsg","tweetPageLink","useRef","containsImg","id","retweetId","tweetImgRef","imageSrc","retweeter","retweeterRef","originalTweetRef","originalTweet","parentTweet","parentRef","parentSnapshot","tweeterRef","tweeterSnapshot","docRef","snapshot","imageRef","handleLike","stopPropagation","tweetRef","likes","newLikesArray","value","oldLikeArray","handleRetweet","currentTweetRef","currentUserTweets","tweets","someTweet","oldRetweet","find","tweet","oldRetweetRef","deleteDoc","newTweetsArray","retweets","newTweetId","uniqid","newTweetRef","setDoc","comments","date","Timestamp","fromDate","Date","msg","tempTweetsArray","appendOnHover","current","click","pathname","state","option","onMouseOut","onMouseOver","seconds","toLocaleDateString","onTweetHandler","viewBox","fill","stroke","strokeWidth","points","x1","y1","x2","y2","HomeFeed","setTweets","tempArray","getDocs","collection","forEach","returnedArray","sort","b","sortedArray","filteredArray","map","SignoutPanel","signOut","LeftPanel","setUserId","profileUrl","setProfileUrl","homeClass","x","y","profileClass","RightPanel","color","TweetInput","setMsg","bonusRows","setBonusRows","image","setImage","setUser","hiddenFileInput","submitStyle","setSubmitStyle","isComment","opacity","pointerEvents","handleSubmitTweet","preventDefault","isRetweet","uploadBytes","parentTweetRef","tempCommentsArray","userTweets","closeTweet","profPic","onChange","target","scrollHeight","offsetHeight","Math","floor","overflow","cols","rows","resize","paddingRight","strokeLinecap","strokeLinejoin","rx","ry","cx","cy","r","fileUploaded","files","type","HomePage","footer","setFooter","rightPanel","setRightPanel","tweetInput","setTweetInput","onAuthStateChanged","closeTweetHandler","alert","ProfilePage","useLocation","setCurrentUserId","profilePage","setProfilePage","currentUserImg","setCurrentUserImg","currentUserInfo","setCurrentUserInfo","setFollows","setFollowers","headerImg","setHeaderImg","isUsersPage","setIsUsersPage","setUserTweets","setHomeClass","setProfileClass","tempUserInfo","joinDate","num","monthToString","toDate","getMonth","getFullYear","headerRef","currentImageRef","headerSrc","error","tweetIds","tweetsArray","Array","newData","sortOnlyMedia","sortByLikes","likesIds","handleHeaderChange","oldHeaderRef","deleteObject","newHeaderRef","alignItems","SigninPage","email","setEmail","password","setPassword","setError","history","useHistory","handleSubmitRequest","signInWithEmailAndPassword","creds","setTimeout","onSubmit","checkValid","usersArray","valid","checkConfirmation","confirmation","checkInputs","SignupPage","setConfirmation","setUsersArray","userCreated","setUserCreated","errorMsg","setErrorMsg","querySnapshot","createUserWithEmailAndPassword","defaultPic","Error","errorArray","toString","required","minLength","TweetPage","commentIds","setCommentIds","setComments","currentImgRef","newCommentRef","onProfileHandler","onHomeHandler","comment","Routes","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9ad5c884.chunk.js","sourcesContent":["import \"../../styles.css\";\n\n\n\n\nconst Header = (props) => {\n\n    //Searchbar doesn't do anything; This is just to make it more fun :)\n    const handleEnter = (e) => {\n        if (e.key === \"Enter\") {\n            window.location.href = (\"https://www.youtube.com/watch?v=dQw4w9WgXcQ\");\n        }\n    }\n\n    return (\n        <div className=\"header\" >\n            <span className=\"homeTitleDiv\" >\n                {props.header}\n            </span>\n            <span className=\"searchBar\" >\n                <input onKeyDown={handleEnter} className=\"searchInput\" placeholder=\"Search Tweeter\" />\n                <svg className=\"searchImg\" width=\"24\" height=\"24\" xmlns=\"http://www.w3.org/2000/svg\" fillRule=\"evenodd\" clipRule=\"evenodd\"><path d=\"M15.853 16.56c-1.683 1.517-3.911 2.44-6.353 2.44-5.243 0-9.5-4.257-9.5-9.5s4.257-9.5 9.5-9.5 9.5 4.257 9.5 9.5c0 2.442-.923 4.67-2.44 6.353l7.44 7.44-.707.707-7.44-7.44zm-6.353-15.56c4.691 0 8.5 3.809 8.5 8.5s-3.809 8.5-8.5 8.5-8.5-3.809-8.5-8.5 3.809-8.5 8.5-8.5z\"/></svg>\n            </span>\n        </div>\n    )\n}\n\nexport default Header;","import \"../../styles.css\";\nimport { Link } from \"react-router-dom\";\n\n\n\n\nconst Footer = () => {\n\n\n\n\n    return (\n        <div className=\"footer\" >\n            <div className=\"footerCentered\">\n                <span className=\"footerMsg\">\n                    <h2 className=\"titleFont\">Don't miss what's not happpening!</h2>\n                    <h3 className=\"defaultFont\">People on Tweeter are (definitely) last to know.</h3>\n                </span>\n                <Link className=\"footerLink\" to=\"/twitter-clone/signin\" >\n                    <button className=\"loginBtn\">Log in</button>\n                </Link>\n                <Link className=\"footerLink\" to=\"/twitter-clone/signup\" >\n                    <button className=\"signupBtn\">Sign up</button>\n                </Link>\n            </div>\n        </div>\n    )\n}\n\nexport default Footer;","import { initializeApp } from \"firebase/app\";\nimport { getFirestore } from \"firebase/firestore\";\nimport { getAuth } from \"firebase/auth\";\nimport { getStorage, ref } from \"firebase/storage\";\n\n\n\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyDqKe0LP_f_3hLc2FHkW6M4yCB8G7jiZds\",\n    authDomain: \"twitter-clone-3489b.firebaseapp.com\",\n    projectId: \"twitter-clone-3489b\",\n    storageBucket: \"gs://twitter-clone-3489b.appspot.com\",\n    messagingSenderId: \"131799327976\",\n    appId: \"1:131799327976:web:1e8302662fbdedb398955d\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\n\nconst db = getFirestore(app);\n\nconst auth = getAuth();\n\nconst storage = getStorage(app);\n\nconst storageRef = ref(storage);\n\n//const timestamp = firestore.FieldValue.serverTimestamp();\n\nexport { db, auth, storage, storageRef };\nexport default app;","import { useState, useEffect } from \"react\";\nimport { doc, getDoc, updateDoc } from \"firebase/firestore\";\nimport { ref, getDownloadURL } from \"firebase/storage\";\nimport { db, storage, auth } from \"../../../firebase-config\";\n\n\n\n\n\n\n\nconst HoverPopup = (props) => {\n\n    //These two states keep track of the hover state of the tweet's username (textHovered) and the hover state of the preview (prevHovered) itself\n    const [textHovered, setTextHovered] = useState(props.hovered);\n    const [prevHovered, setPrevHovered] = useState(false);\n\n    //This state is to store the user's information\n    const [userInfo, setUserInfo] = useState({});\n    const [userImg, setUserImg] = useState(\"\");\n\n    //State used to store a jsx element depending on if the current user follows the user in popup\n    const [followBtn, setFollowBtn] = useState(null);\n\n    //This hook updates the textHovered state\n    useEffect( () => {\n        setTextHovered(props.hovered);\n    }, [props.hovered])\n\n    //This hook is for taking the props.userId and retrieving the info and img from backend\n    useEffect( () => {\n        const userRef = doc(db, \"users\", props.userId);\n        const imgRef = ref(storage, \"user-images/\" + props.userId);\n        getDoc(userRef).then( (userSnapshot) => {\n            setUserInfo(userSnapshot.data());\n        })\n        getDownloadURL(imgRef).then( (imgSrc) => {\n            setUserImg(imgSrc);\n        })\n    }, [props.userId])\n\n    //Hook used to update what the followBtn looks like depending on the current user's follow status\n    useEffect( () => {\n        if (userInfo.followers && auth.currentUser) {\n            if (props.userId === auth.currentUser.uid) {\n                setFollowBtn(null);\n            }\n            else {\n                setFollowBtn(<button onClick={handleFollow} className=\"formBtn prevFollowBtn\">Follow</button>);\n            }\n            for (let i = 0; i < userInfo.followers.length; i++) {\n                if (userInfo.followers[i] === auth.currentUser.uid) {\n                    setFollowBtn(<button onClick={handleFollow} className=\"formBtn prevFollowBtn following\" ></button>);\n                }\n            }\n        }\n        else {\n            setFollowBtn(null);\n        }\n    }, [userInfo])\n\n    //Hook used for cleanup \n    useEffect( () => {\n        return ( () => {\n            setTextHovered(\"\");\n            setPrevHovered(\"\");\n            setUserImg(\"\");\n            setUserInfo(\"\");\n        })\n    }, [])\n\n    //These two functions are to keep track of the prevHovered state\n    const mouseEnterHandler = () => {\n        setPrevHovered(true);\n    }\n    const mouseOutHandler = () => {\n        setPrevHovered(false);\n    }\n\n    //Function for handling Follows\n    const handleFollow = async (e) => {\n        const userRef = doc(db, \"users\", props.userId);\n        const user = (await getDoc(userRef)).data();\n        const currentUserId = auth.currentUser.uid;\n        const currentUserRef = doc(db, \"users\", currentUserId);\n        const currentUser = (await getDoc(currentUserRef)).data();\n        if (user.followers.includes(currentUserId)) {\n            console.log(\"Unfollowed\")\n            let tempFollowers = user.followers;\n            let tempFollows = currentUser.follows;\n            console.log(tempFollowers);\n            console.log(tempFollows);\n            const newFollowers = tempFollowers.filter( follower => follower !== currentUserId);\n            const newFollows = tempFollows.filter( follow => follow !== props.userId);\n            console.log(newFollowers);\n            console.log(newFollows);\n            await updateDoc(userRef, {followers: newFollowers});\n            await updateDoc(currentUserRef, {follows: newFollows});\n        }\n        else {\n            console.log(\"Followed\")\n            let tempFollowers = user.followers;\n            let tempFollows = currentUser.follows;\n            console.log(tempFollowers);\n            console.log(tempFollows);\n            tempFollowers.push(currentUserId);\n            tempFollows.push(props.userId)\n            console.log(tempFollowers);\n            console.log(tempFollows);\n            await updateDoc(userRef, {followers: tempFollowers});\n            await updateDoc(currentUserRef, {follows: tempFollows});\n        }\n        window.location.reload();\n    }\n\n    return (\n        <div onMouseEnter={mouseEnterHandler} onMouseLeave={mouseOutHandler} style={prevHovered || textHovered ? {display: \"flex\"} : {display: \"none\"}} className=\"hoverPopup\">\n            <div className=\"prevHeader\">\n                <img width=\"50px\" height=\"50px\" className=\"tweetUserImg\" src={userImg} alt=\"Tweet's User\" />\n                {followBtn}\n            </div>\n            <div className=\"prevUser\">\n                <p style={{fontSize: \"1.5em\"}} className=\"defaultFont tweeterDisplayName\">{userInfo.displayName}</p>\n                <p className=\"defaultFont tweeterInfo\">{\"@\" + userInfo.username}</p>\n            </div>\n            <div className=\"prevBio\">\n                <p className=\"defaultFont\">{userInfo.bio ? (userInfo.bio.length > 50 ? userInfo.bio.slice(0, 50) + \"...\" : userInfo.bio) : \"\"}</p>\n            </div>\n            <div className=\"prevFollows\">\n                <span style={{marginRight: \"1em\"}}>\n                    <p className=\"defaultFont\">{(userInfo.follows ? userInfo.follows.length : 0) + \" Following\"}</p>\n                </span>\n                <span>\n                    <p className=\"defaultFont\">{(userInfo.followers ? userInfo.followers.length : 0) + \" Followers\"}</p>\n                </span>\n            </div>\n        </div>\n    )\n}\n\nexport default HoverPopup;","import { useState, useEffect, useRef } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { doc, getDoc, updateDoc, setDoc, deleteDoc, Timestamp } from \"firebase/firestore\";\nimport { ref, getDownloadURL } from \"firebase/storage\";\nimport { db, storage, auth } from \"../../../firebase-config\";\nimport uniqid from \"uniqid\";\nimport HoverPopup from \"./HoverPopup\";\n\n\n\n\nconst Tweet = (props) => {\n\n    //States for storing info related to the tweet (specifically tweeter info); this is needed because the tweeter info needs to be fetched from backend\n    const [userImage, setUserImage] = useState(\"\");\n    const [username, setUsername] = useState(\"\");\n    const [displayName, setDisplayName] = useState(\"\");\n    const [tweetInfo, setTweetInfo] = useState(props.tweetInfo);\n    const [tweeterId, setTweeterId] = useState(props.tweetInfo ? props.tweetInfo.tweeterId : \"\");\n    \n    //This state is for storing either null or the image attatched to the tweet\n    const [tweetImage, setTweetImage] = useState(\"\");\n\n    //Used to keep track of if the username is being hovered or not\n    const [isHovered, setIsHovered] = useState(false);\n\n    //This state is for holding either null or a msg that says this tweet is a retweet or comment\n    const [headerMsg, setHeaderMsg] = useState(null);\n\n    //This hook is for getting around the fact you can't nest an anchor in an anchor\n    const tweetPageLink = useRef(null);\n\n    //Hook for getting the tweets image if it hasImage is true\n    useEffect( () => {\n        if (tweetInfo.containsImg && tweetInfo.id !== \"\") {\n            if (tweetInfo.retweetId !== \"\")\n            {\n                const tweetImgRef = ref(storage, \"tweet-images/\", tweetInfo.retweetId);\n                getDownloadURL(tweetImgRef).then( (imageSrc) => {\n                    setTweetImage(<img className=\"tweetImg\" width=\"100%\" src={imageSrc} alt=\"User inputted media\" />);\n                })\n            }\n            else {\n                const tweetImgRef = ref(storage, \"tweet-images/\" + tweetInfo.id);\n                getDownloadURL(tweetImgRef).then( (imageSrc) => {\n                    setTweetImage(<img className=\"tweetImg\" width=\"100%\" src={imageSrc} alt=\"User inputted media\" />);\n                });\n            }\n        }\n    }, [tweetInfo.containsImg,tweetInfo.id, tweetInfo.retweetId])\n\n    //Hook used to check if tweet is a retweet; if so, setHeaderMsg runs and tweetInfo updates to the original tweetInfo\n    useEffect( () => {\n        if (tweetInfo.retweeter) {\n            const retweeterRef = doc(db, \"users\", tweetInfo.retweeter);\n            getDoc(retweeterRef).then( (retweeter) => {\n                setHeaderMsg(`${retweeter.data().displayName} retweeted`);\n            })\n            const originalTweetRef = doc(db, \"tweets\", tweetInfo.retweetId);\n            getDoc(originalTweetRef).then( (originalTweet) => {\n                setTweetInfo(originalTweet.data());\n            })\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    //Hook used to check if tweet is a comment; if so, setCommentMsg runs and shows that the tweet is a comment \n    useEffect( () => {\n        if (tweetInfo.parentTweet !== \"\") {\n            const parentRef = doc(db, \"tweets\", tweetInfo.parentTweet);\n            getDoc(parentRef).then( (parentSnapshot) => {\n                return parentSnapshot.data().tweeterId;\n            }).then( (tweeterId) => {\n                const tweeterRef = doc(db, \"users\", tweeterId);\n                getDoc(tweeterRef).then( (tweeterSnapshot) => {\n                    setHeaderMsg(`Reply to ${tweeterSnapshot.data().displayName}`)\n                })\n            })\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    //Hook used for retrieving the tweeter's info\n    useEffect( () => {\n        const docRef = doc(db, \"users\", tweetInfo.tweeterId);\n        getDoc(docRef).then( (snapshot) => {return snapshot.data()}).then( (user) => {\n            setUsername(user.username);\n            setDisplayName(user.displayName);\n        });\n    }, [tweetInfo.tweeterId])\n\n    //Hook used for getting the tweeter's prof pic\n    useEffect( () => {\n        const imageRef = ref(storage, \"user-images/\" + tweetInfo.tweeterId);\n        getDownloadURL(imageRef).then( (imageSrc) => {\n            setUserImage(imageSrc);\n        });\n    }, [tweetInfo.tweeterId])\n\n\n    //Hook used for cleaning up state\n    useEffect( () => {\n        return ( () => {\n            setUserImage(\"\");\n            setUsername(\"\");\n            setDisplayName(\"\");\n            setTweetInfo(null);\n            setTweetImage(\"\");\n            setHeaderMsg(null);\n            setTweeterId(\"\");\n            setIsHovered(false);\n        })\n    }, [])\n\n    //Function for handling likes\n    const handleLike = async (e) => {\n        e.stopPropagation();\n        if(auth.currentUser) {\n            const tweetRef = await doc(db, \"tweets\", tweetInfo.id);\n            const currentUserRef = await doc(db, \"users\", auth.currentUser.uid);\n            const currentUser = (await getDoc(currentUserRef)).data();\n            if (currentUser.likes.includes(tweetInfo.id)) {\n                console.log(\"Disliked\")\n                console.log(\"Old Likes: \" + tweetInfo.likes)\n                await updateDoc(tweetRef, {likes: tweetInfo.likes - 1});\n                let newLikesArray = currentUser.likes.filter( (value) => {\n                    return value !== tweetInfo.id;\n                })\n                updateDoc(currentUserRef, {likes: newLikesArray});\n            }\n            else {\n                console.log(\"Liked\")\n                console.log(\"Old likes: \" + tweetInfo.likes)\n                await updateDoc(tweetRef, {likes: tweetInfo.likes + 1});\n                let oldLikeArray = currentUser.likes;\n                oldLikeArray.push(tweetInfo.id);\n                await updateDoc(currentUserRef, {likes: oldLikeArray})\n            }\n            setTweetInfo((await getDoc(tweetRef)).data());\n            //await updateDoc(tweetRef, {likes: tweetInfo.likes++});\n        }\n    }\n\n    const handleComment = (e) => {\n        e.stopPropagation();\n        props.onTweetHandler(tweetInfo.id);\n    }\n\n    //Function for handling retweets\n    const handleRetweet = async (e) => {\n        e.stopPropagation();\n        try {\n            const currentUserRef = doc(db, \"users\", auth.currentUser.uid);\n            const currentUser = (await getDoc(currentUserRef)).data();\n            const currentTweetRef = doc(db, \"tweets\", tweetInfo.id);\n            const currentUserTweets = [];\n            for (let i = 0; i < currentUser.tweets.length; i++) {\n                const someTweet = await getDoc(doc(db, \"tweets\", currentUser.tweets[i]));\n                console.log(someTweet.data());\n                currentUserTweets.push(someTweet.data());\n            }\n            const oldRetweet = currentUserTweets.find( (tweet) => {\n                return tweet.retweetId === tweetInfo.id;\n            })\n            if (oldRetweet) {\n                console.log(\"Found retweet\")\n                const oldRetweetRef = await doc(db, \"tweets\", oldRetweet.id);\n                await deleteDoc(oldRetweetRef);\n                let newTweetsArray = [];\n                currentUserTweets.filter( (tweet) => {\n                    if (tweet.retweetId === tweetInfo.id) {\n                        return false;\n                    }\n                    else {\n                        newTweetsArray.push(tweet.id);\n                        return true;\n                    }\n                })\n                await updateDoc(currentUserRef, {tweets: newTweetsArray});\n                await updateDoc(currentTweetRef, {retweets: tweetInfo.retweets - 1});\n            }\n            else {\n                const newTweetId = uniqid();\n                const newTweetRef = await doc(db, \"tweets\", newTweetId);\n                await setDoc(newTweetRef, {\n                    comments: [],\n                    containsImg: tweetInfo.containsImg,\n                    date: Timestamp.fromDate(new Date()),\n                    id: newTweetId,\n                    likes: 0,\n                    msg: \"\",\n                    retweetId: tweetInfo.id,\n                    retweeter: auth.currentUser.uid,\n                    retweets: 0,\n                    tweeterId: tweetInfo.tweeterId\n                })\n                let tempTweetsArray = currentUser.tweets;\n                currentUser.tweets.push(newTweetId);\n                await updateDoc(currentUserRef, {tweets: tempTweetsArray});\n                await updateDoc(currentTweetRef, {retweets: tweetInfo.retweets + 1})\n            }\n            window.location.reload();\n        }\n        catch (error) {\n            console.log(error);\n        }\n    }\n\n    //Function to handle clicking on the tweetPateLink\n    const onTweetPageLinkClick = () => {\n        tweetPageLink.current.click();\n    }\n\n    //Stoping the propagation because the parent div had an onClick which needs to be prevented\n    const goToProfile = (e) => {\n        e.stopPropagation();\n    }\n\n    //This function will be used to append the preview div on hover\n    const appendOnHover = (e) => {\n        if (isHovered) {\n            setIsHovered(false);\n        }\n        else {\n            setIsHovered(true);\n        }\n    }\n\n    return (\n        <div onClick={onTweetPageLinkClick} className=\"tweetHolder\">\n            <Link ref={tweetPageLink} to={{\n                pathname: `/twitter-clone/tweet/${tweetInfo.id}`,\n                state: {\n                    userId: tweeterId,\n                    currentUserId: (auth.currentUser ? auth.currentUser.uid : null),\n                    tweetInfo: tweetInfo\n                }\n            }}></Link>\n            <h3 className=\"defaultFont headerMsg\">{headerMsg}</h3>\n            <div className=\"tweet\">\n                <div className=\"imgHolder\">\n                    <img className=\"tweetUserImg\" alt=\"User profile\" src={userImage} /> \n                </div>\n                <div className=\"tweetContent\">\n                    <div onClick={goToProfile} className=\"tweeterInfoHolder\">\n                        <HoverPopup userId={tweetInfo.tweeterId} hovered={isHovered} />\n                        <Link to={{\n                            pathname: `/twitter-clone/${username}`,\n                            state: {\n                                userId: tweeterId,\n                                currentUserId: (auth.currentUser ? auth.currentUser.uid : null),\n                                option: 0\n                            }\n                        }} >\n                            <div onMouseOut={appendOnHover} onMouseOver={appendOnHover} className=\"profileFollowSpan\">\n                                <h3 className=\"tweeterDisplayName defaultFont\">{displayName}</h3>\n                                <h3 className=\"tweeterInfo defaultFont\">{\" @\" + username}</h3>\n                            </div>\n                        </Link>\n                        <h3 className=\"tweeterInfo defaultFont\">&middot;</h3>\n                        <h3 className=\"tweeterInfo defaultFont\">{new Date(tweetInfo.date.seconds * 1000).toLocaleDateString(\"en-US\")}</h3>\n                        <h3 className=\"tweeterInfo defaultFont dots\">&middot;&middot;&middot;</h3>\n                    </div>\n                    <div className=\"tweetMsgHolder\">\n                        <p className=\"tweetMsg\">{tweetInfo.msg}</p>\n                    </div>\n\n                    <div className=\"tweetImgHolder\">\n                        {tweetImage}\n                    </div>\n\n\n                    <div className=\"tweetBtnHolder\">\n                        <div onClick={handleComment} className=\"btnDiv commentDiv\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" className=\"tweetBtn comment\">\n                                <path d=\"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z\"></path>\n                            </svg>\n                            <p className=\"btnFont\">{tweetInfo.comments.length ? tweetInfo.comments.length : \"\"}</p>\n                        </div>\n                        <div onClick={handleRetweet} className=\"btnDiv retweetDiv\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" className=\"tweetBtn retweet\">\n                                <polyline points=\"17 1 21 5 17 9\"></polyline>\n                                <path d=\"M3 11V9a4 4 0 0 1 4-4h14\"></path>\n                                <polyline points=\"7 23 3 19 7 15\"></polyline>\n                                <path d=\"M21 13v2a4 4 0 0 1-4 4H3\"></path>\n                            </svg>\n                            <p className=\"btnFont\">{tweetInfo.retweets ? tweetInfo.retweets : \"\"}</p>\n                        </div>\n                        <div onClick={handleLike} className=\"btnDiv likeDiv\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" fill=\"none\" strokeWidth=\"2\" className=\"tweetBtn like\">\n                                <path d=\"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z\"></path>\n                            </svg>\n                            <p className=\"btnFont\">{tweetInfo.likes ? tweetInfo.likes : \"\"}</p>\n                        </div>\n                        <div className=\"btnDiv shareDiv\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" fill=\"none\" strokeWidth=\"2\" className=\"tweetBtn share\">\n                                <path d=\"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8\"></path>\n                                <polyline points=\"16 6 12 2 8 6\"></polyline>\n                                <line x1=\"12\" y1=\"2\" x2=\"12\" y2=\"15\"></line>\n                            </svg>\n                        </div>\n                    </div>\n\n\n                </div>\n            </div>\n        </div>\n    )\n}//The user image and also the tweet images need to be loaded in with a useEffect to optimize load speed\n\nexport default Tweet;","import \"../../styles.css\";\nimport Tweet from \"./Tweet\";\nimport { collection, getDocs } from \"firebase/firestore\";\nimport { db } from \"../../../firebase-config\";\nimport { useState, useEffect } from \"react\"\nimport uniqid from \"uniqid\";\n\n\n\n\nconst HomeFeed = (props) => {\n\n    const [tweets, setTweets] = useState([]);\n\n    useEffect( () => {\n        let tempArray = [];\n        getDocs(collection(db, \"tweets\")).then( (snapshot) => {\n            snapshot.forEach( (tweet) => {\n                tempArray.push(tweet.data());\n            });\n            return tempArray;\n        }).then( (returnedArray) => {\n            returnedArray.sort( (a, b) => {\n                return a.date - b.date ? -1 : 1;\n            });\n            return returnedArray;\n        }).then( (sortedArray) => {\n            const filteredArray = sortedArray.filter(tweet => {\n                return (tweet.parentTweet === \"\");\n            })\n            return filteredArray;\n        }).then( (filteredArray) => {\n            setTweets(filteredArray);\n        })\n    }, []);\n\n    return (\n        <div className=\"homeFeed\" >\n            {tweets.map( (tweet) => {\n                return <Tweet onTweetHandler={props.onTweetHandler} tweetInfo={tweet} key={uniqid()} />\n            })}\n        </div>\n    )\n}\n\nexport default HomeFeed;","import \"../../styles.css\";\n\n\n\nconst SignoutPanel = (props) => {\n\n\n    const handleSignOut = () => {\n        props.auth.signOut();\n        console.log(props.auth.currentUser);\n        window.location.reload();\n    }\n\n    return (\n        <div className=\"rightPanel\" >\n            <div className=\"rightSpacing\">\n                <div className=\"rightSignup\">\n                    <h2 className=\"titleFont\">Welcome to Tweeter!</h2>\n                    <p className=\"defaultFont\">Sign out to see the same exact feed.</p>\n                    <div onClick={handleSignOut} className=\"redButton\" >\n                        <h2 className=\"buttonFont\">Sign Out</h2>                        \n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default SignoutPanel;","import \"../../styles.css\";\nimport Logo from \"../../../assets/images/logo.png\";\nimport { Link } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\n\n\n\nconst LeftPanel = (props) => {\n\n    //State used to store the userInfo\n    const [userId, setUserId] = useState(\"\");\n    const [profileUrl, setProfileUrl] = useState(\"\");\n\n    //Hook used to update profileUrl\n    useEffect( () => {\n        if (props.userInfo) {\n            setProfileUrl(\"/\" + props.userInfo.username);\n        }\n    }, [props.userInfo])\n\n    //Hook for updating the userId state\n    useEffect( () => {\n        setUserId(props.userId);\n    }, [props.userId])\n\n    const openTweet = () => {\n        props.onTweetHandler(\"\");\n    }\n\n    return (\n        <div className=\"leftPanel\" >\n            <Link className=\"logo\" to=\"/twitter-clone/\">\n                <img className=\"logoImg\" src={Logo} alt=\"Page logo\" />\n            </Link>\n            <Link to=\"/twitter-clone/\" >\n                <div className={props.homeClass} >\n                    <svg className=\"optionFont\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\n                        width=\"26\" height=\"26\"\n                        viewBox=\"0 0 26 26\">\n                            <path d=\"M 20 2.03125 C 19.449219 2.03125 19 2.480469 19 3.03125 L 19 7.8125 L 13.71875 2.53125 C 13.328125 2.140625 12.671875 2.140625 12.28125 2.53125 L 0.5625 14.28125 C 0.171875 14.671875 0.171875 15.296875 0.5625 15.6875 C 0.953125 16.078125 1.578125 16.078125 1.96875 15.6875 L 13 4.65625 L 24.0625 15.71875 C 24.257813 15.914063 24.523438 16.03125 24.78125 16.03125 C 25.039063 16.03125 25.273438 15.914063 25.46875 15.71875 C 25.859375 15.328125 25.859375 14.703125 25.46875 14.3125 L 22 10.84375 L 22 3.03125 C 22 2.480469 21.550781 2.03125 21 2.03125 Z M 13 6.5 L 2 17.5 L 2 23 C 2 24.65625 3.34375 26 5 26 L 21 26 C 22.65625 26 24 24.65625 24 23 L 24 17.5 Z M 11 16 L 15 16 C 15.550781 16 16 16.449219 16 17 L 16 23 C 16 23.550781 15.550781 24 15 24 L 11 24 C 10.449219 24 10 23.550781 10 23 L 10 17 C 10 16.449219 10.449219 16 11 16 Z\"></path>\n                    </svg>\n                    <h2 className=\"optionFont\">Home</h2>\n                </div>\n            </Link>\n            <Link to={{\n                pathname: \"/twitter-clone/\" + profileUrl,\n                state: {\n                    userId: userId,\n                    currentUserId: userId,\n                    option: 0\n                }\n                }} >\n                <div className={props.profileClass} >\n                    <svg className=\"svg-icon optionFont\" viewBox=\"0 0 20 20\">\n                        <path strokeWidth=\"7\" d=\"M12.075,10.812c1.358-0.853,2.242-2.507,2.242-4.037c0-2.181-1.795-4.618-4.198-4.618S5.921,4.594,5.921,6.775c0,1.53,0.884,3.185,2.242,4.037c-3.222,0.865-5.6,3.807-5.6,7.298c0,0.23,0.189,0.42,0.42,0.42h14.273c0.23,0,0.42-0.189,0.42-0.42C17.676,14.619,15.297,11.677,12.075,10.812 M6.761,6.775c0-2.162,1.773-3.778,3.358-3.778s3.359,1.616,3.359,3.778c0,2.162-1.774,3.778-3.359,3.778S6.761,8.937,6.761,6.775 M3.415,17.69c0.218-3.51,3.142-6.297,6.704-6.297c3.562,0,6.486,2.787,6.705,6.297H3.415z\"></path>\n                    </svg>\n                    <h2 className=\"optionFont\">Profile</h2>\n                </div>\n            </Link>\n            <div className=\"redButton\">\n                <h2 onClick={openTweet} className=\"buttonFont\">Tweet</h2>\n            </div>\n        </div>\n    )\n}\n\nexport default LeftPanel;","export default \"data:image/png;base64,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\"","import \"../../styles.css\";\nimport { Link } from \"react-router-dom\";\n\n\n\n\nconst RightPanel = () => {\n\n\n\n\n    return (\n        <div className=\"rightPanel\" >\n            <div className=\"rightSpacing\">\n                <div className=\"rightSignup\">\n                    <h2 className=\"titleFont\">New to Tweeter?</h2>\n                    <p className=\"defaultFont\">Sign up now to get the same timeline as everyone else.</p>\n                    <Link className=\"redButton\" to=\"/twitter-clone/signup\" >\n                        <h2 className=\"buttonFont\">Sign Up</h2>\n                    </Link>\n                </div>\n            </div>\n            <p>Created by <a style={{color: \"rgb(252, 110, 80)\"}} href=\"https://github.com/Jerriath\">Jerry Zhang</a></p>\n        </div>\n    )\n}\n\nexport default RightPanel;","import { useState, useRef, useEffect } from \"react\";\nimport { db, storage } from \"../../../firebase-config\";\nimport uniqid from \"uniqid\";\nimport { doc, getDoc, setDoc, updateDoc, Timestamp } from \"@firebase/firestore\";\nimport { uploadBytes, ref } from \"@firebase/storage\";\n\n\n\n\n\n\nconst TweetInput = (props) => {\n\n    //States used for storing the tweet info like the message and/or image\n    const [msg, setMsg] = useState(\"\");\n    const [bonusRows, setBonusRows] = useState(0);\n    const [image, setImage] = useState(\"\");\n    const [user, setUser] = useState({});\n\n    //This hook is for styling the file input\n    const hiddenFileInput = useRef(null);\n\n    //State used for storing the submit btn style \n    const [submitStyle, setSubmitStyle] = useState({});\n\n    //State for saving whether if the new tweet is a real tweet or comment\n    const [isComment, setIsComment] = useState(props.isComment);\n\n    //These hooks are for greying out the submit btn until something is inputted into the form\n    useEffect( () => {\n        if (msg === \"\") {\n            setSubmitStyle({opacity: 0.5, pointerEvents: \"none\"})\n        }\n        else if (msg !== \"\") {\n            setSubmitStyle({opacity: 1, pointerEvents: \"auto\"});\n        }\n    }, [msg]);\n\n    useEffect( () => {\n        if (image === \"\") {\n            setSubmitStyle({opacity: 0.5, pointerEvents: \"none\"})\n        }\n        else if (image !== \"\") {\n            setSubmitStyle({opacity: 1, pointerEvents: \"auto\"});\n        }\n    }, [image]);\n\n    //This hook is used to retrieve the user info from firestore\n    useEffect( () => {\n        const userRef = doc(db, \"users\", props.userId);\n        getDoc(userRef).then( (userInfo) => {\n            setUser(userInfo.data());\n        })\n    }, [props.userId])\n\n    //This function is for automatically adjusting the textarea size to fit the text\n    const onMsgChange = (e) => {\n        if (e.target.scrollHeight > e.target.offsetHeight + 5) {\n\t\t\tsetBonusRows(bonusRows + 1);\n\t\t} else if (e.target.value.length < 50) {\n\t\t\tsetBonusRows(0);\n\t\t} else if (Math.floor(e.target.value.length / 10) < Math.floor(msg.length / 10) && !(Math.floor(msg.length / 10) % 5)) {\n\t\t\tsetBonusRows(bonusRows - 1);\n\t\t}\n\t\tsetMsg(e.target.value);\n    }\n\n    const handleImageClick = (e) => {\n        e.preventDefault();\n        console.log(\"handle image click\");\n        hiddenFileInput.current.click();\n    }\n\n    const handleImageChange = (e) => {\n        const fileUploaded = e.target.files[0];\n        setImage(fileUploaded);\n    }\n\n    const handleSubmitTweet = async (e) => {\n        e.preventDefault();\n        const newTweetId = uniqid();\n        const tweetRef = doc(db, \"tweets\", newTweetId);\n        //For tweets that only have a msg and no image\n        if (msg !== \"\" && image === \"\") {\n            await setDoc(tweetRef, {\n                comments: [],\n                containsImg: false,\n                date: Timestamp.fromDate(new Date()),\n                id: newTweetId,\n                isRetweet: false,\n                likes: 0,\n                msg: msg,\n                retweets: 0,\n                retweeter: \"\",\n                retweetId: \"\",\n                tweeterId: props.userId,\n                parentTweet: props.parentTweet\n            })\n        }\n        //For tweets that only have an image and no msg\n        else if (msg === \"\" && image !== \"\") {\n            await setDoc(tweetRef, {\n                comments: [],\n                containsImg: true,\n                date: Timestamp.fromDate(new Date()),\n                id: newTweetId,\n                isRetweet: false,\n                likes: 0,\n                msg: \"\",\n                retweeter: \"\",\n                retweetId: \"\",\n                retweets: 0,\n                tweeterId: props.userId,\n                parentTweet: props.parentTweet\n            });\n            const imageRef = ref(storage, `tweet-images/${newTweetId}`)\n            await uploadBytes(imageRef, image);\n        }\n        //For tweets that have both an image and a msg\n        else {\n            await setDoc(tweetRef, {\n                comments: [],\n                containsImg: true,\n                date: Timestamp.fromDate(new Date()),\n                id: newTweetId,\n                isRetweet: false,\n                likes: 0,\n                msg: msg,\n                retweeter: \"\",\n                retweetId: \"\",\n                retweets: 0,\n                tweeterId: props.userId,\n                parentTweet: props.parentTweet\n            });\n            const imageRef = ref(storage, `tweet-images/${newTweetId}`)\n            await uploadBytes(imageRef, image);\n        }\n        //Add a condititional to see if the new tweet is a comment; if so, the parentTweet's comment array will be updated\n        if (props.parentTweet !== \"\") {\n            const parentTweetRef = doc(db, \"tweets\", props.parentTweet);\n            const tempCommentsArray = await getDoc(parentTweetRef).then( (snapshot) => {\n                return snapshot.data().comments;\n            })\n            tempCommentsArray.push(newTweetId);\n            updateDoc(parentTweetRef, {comments: tempCommentsArray});\n        }\n        const userRef = doc(db, \"users\", props.userId);\n        let userTweets = user.tweets;\n        userTweets.push(newTweetId)\n        await updateDoc(userRef, {tweets: userTweets});\n        window.location.reload();\n    }\n\n    return (\n        <div className=\"greyScreen\">\n            <div className=\"tweetInput\" >\n                <div className=\"tweetHeader\" >\n                    <button className=\"closeForm\" onClick={props.closeTweet} >x</button>\n                </div>\n                <hr className=\"line\" />\n                <form className=\"tweetForm\" >\n                    <div className=\"imgHolder tweetProfPic\" >\n                        <img src={props.profPic} alt=\"User's profile pic\" className=\"tweetUserImg\" />\n                    </div>\n                    <div className=\"tweetInputRight\" >\n                        <div className=\"tweetTextHolder\" >\n                            <label className=\"tweetLabel\" >\n                                <textarea onChange={onMsgChange} value={msg} className=\"tweetText\" overflow=\"none\" cols=\"50\" rows={1 + bonusRows} placeholder=\"What's Happening?\" resize=\"none\" ></textarea>\n                            </label>\n                        </div>\n                        <hr className=\"line\" />\n                        <div className=\"tweetBtnHolder\" style={{paddingRight: 0}}>\n                            <button className=\"tweetImgBtn\" onClick={handleImageClick} >\n                                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"rgb(252, 110, 80)\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect><circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\"></circle><polyline points=\"21 15 16 10 5 21\"></polyline></svg>\n                            </button>\n                            <input onChange={handleImageChange} type=\"file\" ref={hiddenFileInput} style={{display: \"none\"}} />\n                            <button onClick={handleSubmitTweet} className=\"submitTweet\" style={submitStyle}>Tweet</button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    )\n}\n\nexport default TweetInput;","import \"../styles.css\";\nimport React from \"react\";\nimport Header from \"./home-subcomponents/Header\";\nimport Footer from \"./home-subcomponents/Footer\";\nimport HomeFeed from \"./home-subcomponents/HomeFeed\";\nimport SignoutPanel from \"./home-subcomponents/SignoutPanel\";\nimport LeftPanel from \"./home-subcomponents/LeftPanel\";\nimport RightPanel from \"./home-subcomponents/RightPanel\";\nimport TweetInput from \"./home-subcomponents/TweetInput\";\nimport { auth, storage, db } from \"../../firebase-config\";\nimport { onAuthStateChanged } from \"@firebase/auth\";\nimport { useState, useEffect } from \"react\";\nimport { ref, getDownloadURL } from \"@firebase/storage\";\nimport { getDoc, doc } from \"@firebase/firestore\";\n\n\n\n\n\nconst HomePage = () => {\n\n    //States to hold the RightPanel and the Footer; will update to null if someone is signed in\n    const [footer, setFooter] = useState(<Footer />);\n    const [rightPanel, setRightPanel] = useState(<RightPanel />);\n\n    //This state is to hold the tweetInput component; set to null untill the \"Tweet\" button is clicked\n    const [tweetInput, setTweetInput] = useState(null);\n\n    //This state is for holding important information about the user (prof pic and user data) \n    const [userInfo, setUserInfo] = useState(null);\n    const [userId, setUserId] = useState(null);\n    const [userImg, setUserImg] = useState(\"\");\n\n    //This state is for holding what the Header component says in the title and for changing it \n    const [headerMsg, setHeaderMsg] = useState(<h2 className=\"homeTitle\">Home</h2>);\n\n    //These states are just used to get the buttons to be more interactive\n    const [homeClass, setHomeClass] = useState(\"leftOption selected\");\n    const [profileClass, setProfileClass] = useState(\"leftOption\");\n\n    //This observer is used to check if someone is signed in; If yes, the homeFeed and rightPanel will be set to null\n    onAuthStateChanged(auth, (user) => {\n        if (user !== null && footer !== null) {\n            setRightPanel(<SignoutPanel auth={auth} />);\n            setFooter(null);\n            setUserId(auth.currentUser ? auth.currentUser.uid : null);\n        }\n    });\n\n    //This hook is used to cleanup the states before unmounting\n    useEffect( () => {\n        return () => {\n            setFooter(null);\n            setRightPanel(null);\n            setTweetInput(null);\n            setUserInfo(null);\n            setUserId(null);\n            setUserImg(\"\");\n            setHeaderMsg(null);\n        }\n    }, []);\n\n    //This hook is used to retrieve the current user's prof pic and userInfo\n    useEffect( () => {\n        if (userId !== null) {\n            const imageRef = ref(storage, \"user-images/\" + userId);\n            getDownloadURL(imageRef).then( (imageSrc) => {\n                setUserImg(imageSrc);\n            }); \n        }\n    }, [userId])\n\n    //This hook is used to retrieve the userInfo from firestore\n    useEffect( () => {\n        if (userId !== null) {\n            const userRef = doc(db, \"users\", userId);\n            getDoc(userRef).then( (user) => {\n                setUserInfo(user.data());\n            })\n        }\n    }, [userId])\n\n    //Function for handling normal tweets\n    const onTweetHandler = (parentTweet) => {\n        if (userId) {\n            setTweetInput(<TweetInput parentTweet={parentTweet} userId={userId} profPic={userImg} closeTweet={closeTweetHandler}/>)\n        }\n        else {\n            alert(\"Please sign in to tweet.\");\n        }\n    }\n\n    const closeTweetHandler = () => {\n        setTweetInput(null);\n    }\n\n    return (\n        <div className=\"homepage\">\n            {tweetInput}\n            <LeftPanel onTweetHandler={onTweetHandler} userInfo={userInfo} userId={userId} homeClass={homeClass} profileClass={profileClass} />\n            <Header header={headerMsg}/>\n            <div className=\"homeContent\">\n                <HomeFeed onTweetHandler={onTweetHandler}/>\n                {rightPanel}\n            </div>\n            {footer}\n        </div>\n    )\n}\n\nexport default HomePage;","import \"../styles.css\";\nimport React from \"react\";\nimport Header from \"../home-page/home-subcomponents/Header\";\nimport Footer from \"../home-page/home-subcomponents/Footer\";\nimport SignoutPanel from \"../home-page/home-subcomponents/SignoutPanel\";\nimport LeftPanel from \"../home-page/home-subcomponents/LeftPanel\";\nimport RightPanel from \"../home-page/home-subcomponents/RightPanel\";\nimport TweetInput from \"../home-page/home-subcomponents/TweetInput\";\nimport Tweet from \"../home-page/home-subcomponents/Tweet\";\nimport uniqid from \"uniqid\";\nimport { monthToString, sortOnlyTweets, sortOnlyMedia } from \"./profilePageFunctions\";\nimport { auth, storage, db } from \"../../firebase-config\";\nimport { onAuthStateChanged } from \"@firebase/auth\";\nimport { useState, useEffect, useRef } from \"react\";\nimport { useLocation, Link } from \"react-router-dom\";\nimport { ref, getDownloadURL, uploadBytes, deleteObject } from \"@firebase/storage\";\nimport { getDoc, doc, updateDoc } from \"@firebase/firestore\";\n\n//This component is almost a mirror of the HomePage component but has a specific profile's info and tweets\nconst ProfilePage = () => {\n\n    //This hook is used to retrieve info from the link that was clicked to get to this page\n    const location = useLocation();\n\n    //This hook is for styling the file input\n    const hiddenFileInput = useRef(null);\n\n    //States to hold the RightPanel and the Footer; will update to null if someone is signed in\n    const [footer, setFooter] = useState(<Footer />);\n    const [rightPanel, setRightPanel] = useState(<RightPanel />);\n\n    //This state is to hold the tweetInput component; set to null untill the \"Tweet\" a is clicked\n    const [tweetInput, setTweetInput] = useState(null);\n\n    //This state is for holding what the Header component and follow btn says in the title and for changing it \n    const [headerMsg, setHeaderMsg] = useState(<h2 className=\"homeTitle\">Home</h2>);\n    const [followBtn, setFollowBtn] = useState(<button className=\"formBtn followBtn\" >Follow</button>);\n\n    //These states are for storing the profile information that is displayed at the top of the page\n    const [userId, setUserId] = useState(\"\");\n    const [currentUserId, setCurrentUserId] = useState(\"\");\n    const [profilePage, setProfilePage] = useState(null);\n    const [currentUserImg, setCurrentUserImg] = useState(\"\");\n    const [userInfo, setUserInfo] = useState(\"\");\n    const [currentUserInfo, setCurrentUserInfo] = useState(\"\");\n    const [follows, setFollows] = useState(0);\n    const [followers, setFollowers] = useState(0);\n    const [userImg, setUserImg] = useState(\"\");\n    const [headerImg, setHeaderImg] = useState(\"\");\n    const [isUsersPage, setIsUsersPage] = useState(false);\n    const [userTweets, setUserTweets] = useState([]);\n\n    //These states are just used to get the as to be more interactive\n    const [homeClass, setHomeClass] = useState(\"leftOption\");\n    const [profileClass, setProfileClass] = useState(\"leftOption selected\");\n\n    //Hook used to update the userId\n    useEffect( () => {\n        setUserId(location.state?.userId);\n        setCurrentUserId(location.state?.currentUserId);\n    }, [location])\n\n    //This hook is to check if the current user is viewing their own page; if so isUserPage will be set to true\n    useEffect( () => {\n        if (userId === currentUserId && userId !== \"\" && currentUserId !== \"\") {\n            setIsUsersPage(true);\n        }\n    }, [userId, currentUserId])\n\n    //This is also in the HomePage comp; used to change the right panel depending on auth status\n    onAuthStateChanged(auth, (user) => {\n        if (user !== null && footer !== null) {\n            setRightPanel(<SignoutPanel auth={auth} />);\n            setFooter(null);\n        }\n    });\n\n    //This hook is for retrieving the userInfo and userImg from the profileId passed in as props via location\n    useEffect( () => {\n        if (userId) {\n            const userRef = doc(db, \"users\", userId);\n            getDoc(userRef).then( (user) => {\n                let tempUserInfo = user.data();\n                tempUserInfo.joinDate = `${monthToString(tempUserInfo.joinDate.toDate().getMonth())} ${tempUserInfo.joinDate.toDate().getFullYear()}`;\n                setUserInfo(tempUserInfo);\n                setFollows(tempUserInfo.follows);\n                setFollowers(tempUserInfo.followers);\n                setHeaderMsg(<h2 className=\"homeTitle\">{tempUserInfo.displayName}</h2>);\n            })\n            const imageRef = ref(storage, \"user-images/\" + userId);\n            const headerRef = ref(storage, \"user-headers/\" + userId);\n            getDownloadURL(imageRef).then( (imageSrc) => {\n                setUserImg(imageSrc);\n            }); \n            if (currentUserId) {\n                const currentImageRef = ref(storage, \"user-images/\" + currentUserId);\n                const currentUserRef = doc(db, \"users\", currentUserId);\n                getDoc(currentUserRef).then( (user) => {\n                    setCurrentUserInfo(user.data());\n                })\n                getDownloadURL(currentImageRef).then( (imageSrc) => {\n                    setCurrentUserImg(imageSrc);\n                })\n            }\n            try {\n                getDownloadURL(headerRef).then( (headerSrc) => {\n                    setHeaderImg(headerSrc);\n                }); \n            }\n            catch (error) {\n                console.log(error);\n                setHeaderImg(null);\n            }\n        } \n    }, [userId, currentUserId])\n\n    //Function for handling Follows\n    const handleFollow = async (e) => {\n        const userRef = doc(db, \"users\", userId);\n        const user = (await getDoc(userRef)).data();\n        const currentUserRef = doc(db, \"users\", currentUserId);\n        const currentUser = (await getDoc(currentUserRef)).data();\n        if (user.followers.includes(currentUserId)) {\n            console.log(\"Unfollowed\")\n            let tempFollowers = user.followers;\n            let tempFollows = currentUser.follows;\n            console.log(tempFollowers);\n            console.log(tempFollows);\n            const newFollowers = tempFollowers.filter( follower => follower !== currentUserId);\n            const newFollows = tempFollows.filter( follow => follow !== userId);\n            console.log(newFollowers);\n            console.log(newFollows);\n            await updateDoc(userRef, {followers: newFollowers});\n            await updateDoc(currentUserRef, {follows: newFollows});\n        }\n        else {\n            console.log(\"Followed\")\n            let tempFollowers = user.followers;\n            let tempFollows = currentUser.follows;\n            console.log(tempFollowers);\n            console.log(tempFollows);\n            tempFollowers.push(currentUserId);\n            tempFollows.push(userId)\n            console.log(tempFollowers);\n            console.log(tempFollows);\n            await updateDoc(userRef, {followers: tempFollowers});\n            await updateDoc(currentUserRef, {follows: tempFollows});\n        }\n        window.location.reload();\n    }\n\n    //Hook used to changed the followBtnText depending on if currentUser is following or not\n    useEffect( () => {\n        if (userId === currentUserId) {\n            setFollowBtn(null);\n        }\n        else {\n            setFollowBtn(<button onClick={handleFollow} className=\"formBtn followBtn\" >Follow</button>);\n        }\n        for (let i = 0; i < followers.length; i++) {\n            if (followers[i] === currentUserId) {\n                setFollowBtn(<button onClick={handleFollow} className=\"formBtn followBtn following\" ></button>);\n            }\n        }\n    }, [followers])\n\n    //This hook is for retrieving all the tweets from the tweetsArray (contains tweetIds) in the userInfo\n    useEffect( () => {\n        if (userInfo)\n        {\n            const tweetIds = userInfo.tweets;\n            const tweetsArray = new Array(0);\n            for (let i = 0; i < tweetIds.length; i++) {\n                const tweetRef = doc(db, \"tweets\", tweetIds[i]);\n                getDoc(tweetRef).then( (tweet) => {\n                    const newData = tweet.data();\n                    tweetsArray.push(newData);\n                    if (i === tweetIds.length - 1) {\n                        tweetsArray.sort( (a, b) => {\n                            return a.date - b.date ? -1 : 1;\n                        })\n                        setUserTweets(tweetsArray);\n                        setProfilePage(location.state?.option);\n                    }\n                })\n            }\n        } \n    }, [userInfo, location.state?.option])\n\n    //This hook is for updating the tweetsArray to match what tab the current user is in\n    useEffect( () => {\n        if (userTweets.length !== 0){\n            if (profilePage === 0) {\n                setUserTweets(sortOnlyTweets(userTweets));\n            }\n            else if (profilePage === 1) {\n                return;\n            }\n            else if (profilePage === 2) {\n                setUserTweets(sortOnlyMedia(userTweets));\n            }\n            else if (profilePage === 3) {\n                //Done like this to use await on getDoc\n                async function sortByLikes() {\n                    const likesIds = userInfo.likes;\n                    let tempArray = new Array(0);\n                    for (let i = 0; i < likesIds.length; i++) {\n                        const tweetRef = doc(db, \"tweets\", likesIds[i]);\n                         await getDoc(tweetRef).then( (tweet) => {\n                            const newData = tweet.data();\n                            tempArray.push(newData);\n                            if (i === likesIds.length - 1) {\n                                tempArray.sort( (a, b) => {\n                                    return a.date - b.date ? -1 : 1;\n                                })\n                                setUserTweets(tempArray);\n                            }\n                        })\n                    }\n                }\n                sortByLikes();\n            }\n        }\n    }, [profilePage])\n\n    //This hook is used to cleanup the states before unmounting\n    useEffect( () => {\n        return () => {\n            setFooter(null);\n            setRightPanel(null);\n            setTweetInput(null);\n            setUserId(\"\");\n            setHeaderMsg(null);\n            setHomeClass(\"\");\n            setProfileClass(\"\");\n            setUserInfo({});\n            setUserImg(\"\");\n            setFollowBtn(null);\n        }\n    }, []);\n\n    const onTweetHandler = () => {\n        if (currentUserId) {\n            setTweetInput(<TweetInput userId={currentUserId} profPic={currentUserImg} closeTweet={closeTweetHandler}/>)\n        }\n        else {\n            alert(\"Please sign in to tweet.\");\n        }\n    }\n\n    const closeTweetHandler = () => {\n        setTweetInput(null);\n    }\n\n    const handleHeaderClick = (e) => {\n        console.log(\"handle image click\");\n        hiddenFileInput.current.click();\n    }\n\n    const handleHeaderChange = async (e) => {\n        const fileUploaded = e.target.files[0];\n        try {\n            const oldHeaderRef = ref(storage, \"user-headers/\" + userId);\n            await deleteObject(oldHeaderRef);\n            const newHeaderRef = ref(storage, \"user-headers/\" + userId);\n            await uploadBytes(newHeaderRef, fileUploaded);\n        }\n        catch (error) {\n            console.log(error);\n            const newHeaderRef = ref(storage, \"user-headers/\" + userId);\n            await uploadBytes(newHeaderRef, fileUploaded);\n        }\n        window.location.reload();\n    }\n\n    //I need to change the anchor elements to Links and pass in the same states that were in default profile page\n    \n    return (\n        <div className=\"homepage\">\n            {tweetInput}\n            <LeftPanel onTweetHandler={onTweetHandler} userId={currentUserId} userInfo={currentUserInfo} homeClass={homeClass} profileClass={profileClass}  />\n            <Header header={headerMsg}/>\n            <div className=\"homeContent\">\n                <div className=\"homeFeed\">\n                    <div className=\"profileDiv\">\n                        <div onClick={isUsersPage ? handleHeaderClick : null} className={headerImg ? \"headerDiv\" : \"emptyHeaderDiv\"}>\n                            {headerImg ? <img className=\"headerImg\" src={headerImg} alt=\"Profile's Header\" /> : \n                                <div style={{height: \"100%\", width: \"100%\", display: \"flex\", alignItems: \"center\"}}>\n                                    <svg className=\"emptyHeaderImg\" width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                                        <path d=\"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z\"></path>\n                                        <circle cx=\"12\" cy=\"13\" r=\"4\"></circle>\n                                    </svg>\n                                </div>\n                            }\n                            <input onChange={handleHeaderChange} type=\"file\" ref={hiddenFileInput} style={{display: \"none\"}} />\n                        </div>\n                        <div className=\"profileInfoDiv\">\n                            <img className=\"profileUserImg\" src={userImg} alt=\"Profile user\" />\n                            <div className=\"profileInfo\">\n                                {followBtn}\n                                <h3>{userInfo.displayName}</h3>\n                                <p style={{color: \"rgb(125, 125, 125)\"}} className=\"profInfoFont\">{`@${userInfo.username}`}</p>\n                                <p className=\"profInfoFont\">{userInfo.bio}</p>\n                                <p style={{color: \"rgb(125, 125, 125)\"}} className=\"profInfoFont\">{`Joined ${userInfo.joinDate}`}</p>\n                            </div>\n                            <div className=\"profileFollowInfo\">\n                                <span className=\"profileFollowSpan\">\n                                    <p style={{marginRight: \"0.25em\"}}>{`${follows.length}`}</p>\n                                    <p style={{color: \"rgb(125, 125, 125)\"}}>{\"Following\"}</p>\n                                </span>\n                                <span className=\"profileFollowSpan\">\n                                    <p style={{marginRight: \"0.25em\"}}>{`${followers.length}`}</p>\n                                    <p style={{color: \"rgb(125, 125, 125)\"}}>{\"Followers\"}</p>\n                                </span>\n                            </div>\n                        </div>\n                        <div className=\"profileBtnsDiv\">\n                            <Link className={profilePage === 0 ? \"profileBtn profileBtnSelected\" : \"profileBtn\"} to={{\n                                pathname: `/twitter-clone/${userInfo.username}`,\n                                state: {\n                                    userId: userId,\n                                    currentUserId: currentUserId,\n                                    option: 0\n                                }\n                                \n\n                            }}>\n                                <div>\n                                    <p className=\"profileBtnFont\">Tweets</p>\n                                </div>\n                            </Link>\n                            <Link className={profilePage === 1 ? \"profileBtn profileBtnSelected\" : \"profileBtn\"} to={{\n                                pathname: `/twitter-clone/${userInfo.username}/replies`,\n                                state: {\n                                    userId: userId,\n                                    currentUserId: currentUserId,\n                                    option: 1\n                                }\n\n                            }}>\n                                <div>\n                                    <p className=\"profileBtnFont\">Tweets & Replies</p>\n                                </div>\n                            </Link>\n                            <Link className={profilePage === 2 ? \"profileBtn profileBtnSelected\" : \"profileBtn\"} to={{\n                                pathname: `/twitter-clone/${userInfo.username}/media`,\n                                state: {\n                                    userId: userId,\n                                    currentUserId: currentUserId,\n                                    option: 2\n                                }\n\n                            }}>\n                                <div>\n                                    <p className=\"profileBtnFont\">Media</p>\n                                </div>\n                            </Link>\n                            <Link className={profilePage === 3 ? \"profileBtn profileBtnSelected\" : \"profileBtn\"} to={{\n                                pathname: `/twitter-clone/${userInfo.username}/likes`,\n                                state: {\n                                    userId: userId,\n                                    currentUserId: currentUserId,\n                                    option: 3\n                                }\n\n                            }}>\n                                <div>\n                                    <p className=\"profileBtnFont\">Likes</p>\n                                </div>\n                            </Link>\n                        </div>\n                    </div>\n                    {userTweets.length !== 0 ? userTweets.map( (tweet) => {\n                        return <Tweet tweetInfo={tweet} key={uniqid()} />\n                    }) : null}\n                </div>\n                {rightPanel}\n            </div>\n            {footer}\n        </div>\n    )\n}\n\nexport default ProfilePage;","const monthToString = (num) => {\n    switch (num) {\n        case 0: return \"Jan\";\n        case 1: return \"Feb\";\n        case 2: return \"Mar\"\n        case 3: return \"April\"\n        case 4: return \"May\"\n        case 5: return \"June\"\n        case 6: return \"July\"\n        case 7: return \"Aug\"\n        case 8: return \"Sept\"\n        case 9: return \"Oct\"\n        case 10: return \"Nov\"\n        case 11: return \"Dec\"\n        default:\n            console.log(\"This did not work\");\n    }\n}\n\nconst sortOnlyTweets = (tweets) => {\n    const filteredArray = tweets.filter( (tweet) => {\n        return (tweet.parentTweet === \"\");\n    });\n    return filteredArray;\n}\n\nconst sortOnlyMedia = (tweets) => {\n    const filteredArray = tweets.filter( (tweet) => {\n        return (tweet.containsImg);\n    })\n    return filteredArray;\n}\n\nexport { monthToString, sortOnlyTweets, sortOnlyMedia };","import { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { signInWithEmailAndPassword } from \"@firebase/auth\";\nimport { auth } from \"../../firebase-config\";\n\n\n\n\nconst SigninPage = () => {\n\n    //States are for holding the input information before submitting\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    //State used for holding the errorMsg if there is one\n    const [error, setError] = useState(null);\n\n    //Hook used for rerouting back to the homepage\n    const history = useHistory();\n\n\n    useEffect( () => {\n        return () => {\n            setEmail(\"\");\n            setPassword(\"\");\n            setError(null);\n        }\n    }, []);\n\n\n    const handleEmailChange = (e) => {\n        setEmail(e.target.value);\n    }\n\n    const handlePasswordChange = (e) => {\n        setPassword(e.target.value);\n    }\n\n    const handleSubmitRequest = async (e) => {\n        e.preventDefault();\n        try {\n            const creds = await signInWithEmailAndPassword(auth, email, password);\n            console.log(creds);\n            history.push(\"/\");\n        }\n        catch (error) {\n            e.preventDefault();\n            setError(\n                <div className=\"errorMsg\" >\n                    <p className=\"defaultFont errorList\" >Email or password is incorrect. Please try again.</p>\n                </div>\n            )\n            window.setTimeout(() => {\n                setError(null);\n            }, 4000)\n        }\n    }\n\n\n    return (\n        <div className=\"signupPage\">\n            <h3 className=\"titleFont\">Sign-in to your account</h3>\n            <form onSubmit={handleSubmitRequest} className=\"signinForm\">\n                <label className=\"btnLabel\">\n                    <input onChange={handleEmailChange} className=\"signinInput\" type=\"email\" placeholder=\"Email\" value={email} />\n                </label>\n                <label className=\"btnLabel\" >\n                    <input onChange={handlePasswordChange} className=\"signinInput \" type=\"password\" placeholder=\"Password\" value={password} />\n                </label>\n                <p className=\"defaultFont\">Don't have an account? <a href=\"/signup\">Click Here!</a></p>\n                <label className=\"btnLabel\">\n                    <button className=\"formBtn\" type=\"submit\" >Submit</button>\n                </label>\n                <p className=\"defaultFont\">Return home? <a href=\"/\" >Click here.</a></p>\n            </form>\n            {error}\n        </div>\n    )\n}\n\nexport default SigninPage;","//Need to check confirmation and username only; other inputs have errors built-in so only need to display username and confirmation errors\n\n\n\nexport const checkValid = (username, usersArray) => {\n    let valid = true;\n    for (let i = 0; i < usersArray.length; i++) {\n        if (`@${username}` === usersArray[i].username) {\n            valid = false;\n            break;\n        }\n    }\n    return valid;\n}\n\nexport const checkConfirmation = (password, confirmation) => {\n    if (password === confirmation) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\n\nexport const checkInputs = (username, usersArray, password, confirmation) => {\n    if (checkValid(username, usersArray)) {\n        if (password === confirmation) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    else {\n        return false;\n    }\n}","export default __webpack_public_path__ + \"static/media/default_prof_pic.ccb6aed0.png\";","import { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { doc, setDoc, collection, getDocs, Timestamp } from \"firebase/firestore\";\nimport { createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { ref, uploadBytes } from \"firebase/storage\";\nimport { db, auth, storage } from \"../../firebase-config\";\nimport { checkValid, checkConfirmation, checkInputs } from \"./signupFunctions\";\nimport uniqid from \"uniqid\";\nimport defaultPic from \"../../assets/images/default_prof_pic.png\";\n\n\n\n\nconst SignupPage = () => {\n\n    //Each of these states are for each of the inputs\n    const [image, setImage] = useState(\"\");\n    const [username, setUsername] = useState(\"\");\n    const [displayName, setDisplayName] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [confirmation, setConfirmation] = useState(\"\");\n\n    //This state is used to store an array of all existing users to check if the inputted username is valid\n    const [usersArray, setUsersArray] = useState([]);\n\n    //This state is used for the second useEffect to clear all the states before unmounting this component\n    const [userCreated, setUserCreated] = useState(false);\n\n    //This state is used to display error msgs when an error occured when submitting the form\n    const [errorMsg, setErrorMsg] = useState(null);\n\n    //This \"useHistory\" hook is used for rerouting back to the homepage after clicking submit\n    let history = useHistory();\n\n\n\n\n    //This async function is used to retrieve all existing users to make sure the new username is unique\n    useEffect( () => {\n        let tempArray = [];\n        getDocs(collection(db, \"users\")).then( (querySnapshot) => {\n            querySnapshot.forEach( (user) => {\n                tempArray.push(user.data());\n            });\n        }).then( () => {\n            setUsersArray(tempArray);\n        })\n    })\n\n    //This hook is used for cleaning up the DOM before unmounting\n    useEffect( () => {\n        if (userCreated) {\n            return ( () => {\n                setUsername(\"\");\n                setDisplayName(\"\");\n                setEmail(\"\");\n                setPassword(\"\");\n                setConfirmation(\"\");\n            });\n        }\n    }, [userCreated])\n\n\n    const handleUserChange = (e) => {\n        setUsername(e.target.value);\n    }\n\n    const handleDisplayChange = (e) => {\n        setDisplayName(e.target.value);\n    }\n\n    const handleEmailChange = (e) => {\n        setEmail(e.target.value);\n    }\n\n    const handlePasswordChange = (e) => {\n        setPassword(e.target.value);\n    }\n\n    const handleConfirmationChange = (e) => {\n        setConfirmation(e.target.value);\n    }\n\n    const handleImageChange = (e) => {\n        setImage(e.target.files[0]);\n    }\n\n    const handleSubmitRequest = async (e) => {\n        try {\n            if (checkInputs(username, usersArray, password, confirmation)) {\n                e.preventDefault();\n                const creds = await createUserWithEmailAndPassword(auth, email, password);\n                console.log(creds.user);\n                //creds.user.sendEmailVerification();\n                const docRef = await doc(db, \"users\", creds.user.uid);\n                const imageRef = ref(storage, `user-images/${creds.user.uid}`)\n                console.log(\"Setting document in remote database and uploading user image...\");\n                if (image === \"\") {\n                    setImage(defaultPic);\n                }\n                await uploadBytes(imageRef, image);\n                await setDoc(docRef, {\n                    username: username,\n                    bio: \"\",\n                    displayName: displayName,\n                    likes: [],\n                    tweets: [],\n                    follows: [],\n                    followers: [],\n                    joinDate: Timestamp.fromDate(new Date())\n                });\n                console.log(\"User set\");\n                setUserCreated(true);\n                history.push(\"/\");\n            }\n            else {\n                e.preventDefault();\n                throw new Error(\"Username or password confirmation invalid!\");\n            }\n        }\n        catch (error) {\n            let errorArray = [];\n            if (error.toString().includes(\"auth/email-already-in-use\")) {\n                errorArray.push(\"Email is already in use. Please use another.\")\n            }\n            if (!checkValid(username, usersArray)) {\n                errorArray.push(\"Username has already been taken.\")\n            }\n            if (!checkConfirmation(password, confirmation)) {\n                errorArray.push(\"Confirmation does not match password.\")\n            }\n            setErrorMsg(\n                <div className=\"errorMsg\" >\n                    <ul className=\"errorList\">\n                        {errorArray.map( (error) => {\n                            return <li key={uniqid()} className=\"defaultFont\" >{error}</li>\n                        })}\n                    </ul>\n                </div>\n            )\n            window.setTimeout(() => {\n                setErrorMsg(null);\n            }, 4000)\n        }\n    }\n\n\n\n    return (\n        <div className=\"signupPage\">\n            <h3 className=\"titleFont\">Create your account</h3>\n            <form onSubmit={handleSubmitRequest} className=\"signupForm\">\n                <label className=\"imageInput\">\n                    <input onChange={handleImageChange} type=\"file\" alt=\"profile pic\" />\n                </label>\n                <label>\n                    <input onChange={handleUserChange} className=\"formInput\" type=\"text\" placeholder=\"@Username\" value={username} required />\n                </label>\n                <label>\n                    <input onChange={handleDisplayChange} className=\"formInput\" type=\"text\" placeholder=\"Display Name\" value={displayName} required />\n                </label>\n                <label>\n                    <input onChange={handleEmailChange} className=\"formInput\" type=\"email\" placeholder=\"Email\" value={email} required />\n                </label>\n                <label>\n                    <input onChange={handlePasswordChange} className=\"formInput\" type=\"password\" placeholder=\"Password\" value={password} minLength=\"8\" required />\n                </label>\n                <label>\n                    <input onChange={handleConfirmationChange} className=\"formInput\" type=\"password\" placeholder=\"Re-enter Password\" value={confirmation} required />\n                </label>\n                <p className=\"defaultFont\">Already have an account? <a href=\"/signin\">Click Here!</a></p>\n                <label>\n                    <button className=\"formBtn\" type=\"submit\" >Submit</button>\n                </label>\n                <p className=\"defaultFont\">Return home? <a href=\"/\" >Click here.</a></p>\n            </form>\n            {errorMsg}\n        </div>\n    )\n}\n\nexport default SignupPage;","import \"../styles.css\";\nimport React from \"react\";\nimport Header from \"../home-page/home-subcomponents/Header\";\nimport Footer from \"../home-page/home-subcomponents/Footer\";\nimport SignoutPanel from \"../home-page/home-subcomponents/SignoutPanel\";\nimport LeftPanel from \"../home-page/home-subcomponents/LeftPanel\";\nimport RightPanel from \"../home-page/home-subcomponents/RightPanel\";\nimport TweetInput from \"../home-page/home-subcomponents/TweetInput\";\nimport Tweet from \"../home-page/home-subcomponents/Tweet\";\nimport { auth, storage, db } from \"../../firebase-config\";\nimport { useState, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { ref, getDownloadURL } from \"@firebase/storage\";\nimport { getDoc, doc } from \"@firebase/firestore\";\nimport { onAuthStateChanged } from \"@firebase/auth\";\nimport uniqid from \"uniqid\";\n\n\n\n\nconst TweetPage = (props) => {\n\n    //This hook is used to retrieve info from the link that was clicked to get to this page\n    const location = useLocation();\n\n    //States to hold the RightPanel and the Footer; will update to null if someone is signed in\n    const [footer, setFooter] = useState(<Footer />);\n    const [rightPanel, setRightPanel] = useState(<RightPanel />);\n\n    //This state is to hold the tweetInput component; set to null untill the \"Tweet\" a is clicked\n    const [tweetInput, setTweetInput] = useState(null);\n\n    //This state is for holding what the Header component says in the title and for changing it \n    const [headerMsg, setHeaderMsg] = useState(<h2 className=\"homeTitle\">Tweet</h2>);\n\n    //These states are for storing the profile information that is displayed at the top of the page\n    const [userId, setUserId] = useState(\"\");\n    const [currentUserId, setCurrentUserId] = useState(\"\");\n    const [currentUserImg, setCurrentUserImg] = useState(\"\");\n    const [userInfo, setUserInfo] = useState(\"\");\n    const [userImg, setUserImg] = useState(\"\");\n    const [tweetInfo, setTweetInfo] = useState(\"\");\n    const [commentIds, setCommentIds] = useState([]);\n    const [comments, setComments] = useState([]);\n\n    //This is also in the HomePage comp; used to change the right panel depending on auth status\n    onAuthStateChanged(auth, (user) => {\n        if (user !== null && footer !== null) {\n            setRightPanel(<SignoutPanel auth={auth} />);\n            setFooter(null);\n            setCurrentUserId(auth.currentUser ? auth.currentUser.uid : null);\n        }\n    });\n\n    //Hook used to update the userId\n    useEffect( () => {\n        setUserId(location.state?.userId);\n        setCurrentUserId(location.state?.currentUserId);\n        setTweetInfo(location.state.tweetInfo);\n        setCommentIds(location.state.tweetInfo.comments);\n    }, [location.state.userId, location.state.currentUserId, location.state.tweetInfo]) \n\n    //This hook is for retrieving the userInfo and userImg from the profileId passed in as props via location\n    useEffect( () => {\n        if (userId) {\n            const userRef = doc(db, \"users\", userId);\n            getDoc(userRef).then( (user) => {\n                setUserInfo(user.data());\n            })\n            const imageRef = ref(storage, \"user-images/\" + userId);\n            getDownloadURL(imageRef).then( (imageSrc) => {\n                setUserImg(imageSrc);\n            }); \n            if (currentUserId) {\n                const currentImgRef = ref(storage, \"user-images/\" + currentUserId);\n                getDownloadURL(currentImgRef).then( (imageSrc) => {\n                    setCurrentUserImg(imageSrc);\n                }); \n            }\n        } \n    }, [userId, currentUserId])\n\n    //This hook is used to load in comments that are part of the tweetInfo\n    useEffect( () => {\n        let tempArray = [];\n        for (let i = 0; i < commentIds.length; i++) {\n            const newCommentRef = doc(db, \"tweets\", commentIds[i]);\n            getDoc(newCommentRef).then( (snapshot) => {\n                tempArray.push(snapshot.data());\n                if( i === commentIds.length - 1) {\n                    setComments(tempArray);\n                    console.log(tempArray);\n                }\n            })\n        }\n    }, [commentIds])\n\n    //This hook will sort the comments based on date posted\n    useEffect( () => {\n        let tempArray = comments;\n        tempArray.sort( (a, b) => {\n            return a.date - b.date ? 1 : -1;\n        })\n        setComments(tempArray);\n    }, [comments])\n\n    //This hook is used to cleanup the states before unmounting\n    useEffect( () => {\n        return () => {\n            setFooter(null);\n            setRightPanel(null);\n            setTweetInput(null);\n            setUserId(\"\");\n            setCurrentUserId(\"\");\n            setHeaderMsg(null);\n            setUserInfo({});\n            setUserImg(\"\");\n            setTweetInfo(null);\n            setCurrentUserImg(\"\");\n            setCommentIds([]);\n            setComments([]);\n        }\n    }, []);\n\n    const onTweetHandler = () => {\n        if (currentUserId) {\n            setTweetInput(<TweetInput userId={currentUserId} profPic={currentUserImg} closeTweet={closeTweetHandler}/>)\n        }\n        else {\n            alert(\"Please sign in to tweet.\");\n        }\n    }\n\n    const closeTweetHandler = () => {\n        setTweetInput(null);\n    }\n\n    const onProfileHandler = (user) => {\n        setUserId(user);\n    }\n    const onHomeHandler = () => {\n        setHeaderMsg(<h2 className=\"homeTitle\">Home</h2>);\n    }\n\n    return (\n        <div className=\"homepage\">\n            {tweetInput}\n            <LeftPanel onTweetHandler={onTweetHandler} onProfileHandler={onProfileHandler} onHomeHandler={onHomeHandler} homeClass={\"leftOption\"} profileClass={\"leftOption\"} />\n            <Header header={headerMsg}/>\n            <div className=\"homeContent\">\n                <div className=\"homeFeed\">\n                    {tweetInfo ? <Tweet tweetInfo={tweetInfo} key={uniqid()} /> : null}\n                    {comments ? comments.map( ( comment) => <Tweet tweetInfo={comment} key={uniqid()} />) : null}\n                </div>\n                {rightPanel}\n            </div>\n            {footer}\n        </div>\n    )\n}\n\nexport default TweetPage;","import { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport HomePage from \"./page-components/home-page/HomePage\";\nimport ProfilePage from \"./page-components/profile-page/ProfilePage\";\nimport SigninPage from \"./page-components/signin-page/SigninPage\";\nimport SignupPage from \"./page-components/signup-page/SignupPage\";\nimport TweetPage from \"./page-components/tweet-page/TweetPage\";\n\n\nconst Routes = () => {\n\n\treturn (\n\t\t<Router>\n\n\t\t\t<Switch>\n\t\t\t\t<Route exact path=\"/twitter-clone/signin\" component={SigninPage} />\n\t\t\t\t<Route exact path=\"/twitter-clone/signup\" component={SignupPage} />\n\t\t\t\t<Route exact path=\"/twitter-clone/\" component={HomePage} />\n\t\t\t\t<Route path=\"/twitter-clone/tweet/\" component={TweetPage} />\n\t\t\t\t<Route path=\"/twitter-clone/\" component={ProfilePage} />\n\t\t\t</Switch>\n\n\t\t</Router>\n\t);\n}\n\nexport default Routes;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Routes from './Routes';\n\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Routes />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}